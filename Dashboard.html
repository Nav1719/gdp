<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="DashboardStyle.css">
    <title>Keyword Search</title>
    <meta charset="UTF-8">
    <script>
        function searchAndDisplay() {
            var keyword = document.getElementById("keyword").value.toLowerCase();
            var paragraph = "The American Revolution, which took place from 1775 to 1783, was a defining moment in US history. It was a struggle for independence from British rule and ultimately led to the birth of a new nation—the United States of America.The seeds of discontent were sown in the American colonies as tensions grew between the British government and the colonists. Issues such as taxation without representation and the infringement of colonial rights sparked protests and resistance. The famous rallying cry of 'No taxation without representation' echoed throughout the colonies.In 1774, representatives from the colonies gathered in Philadelphia for the First Continental Congress to address their grievances. They called for a united response against British policies and began organizing boycotts and other acts of defiance.Tensions escalated further in 1775 when shots were fired at Lexington and Concord, marking the beginning of armed conflict between colonial militias and British troops. The colonists, known as Patriots, fought for their freedom and rallied around the cause of independence.In 1776, the Second Continental Congress convened in Philadelphia, where a group of delegates drafted and adopted the Declaration of Independence. This historic document, written primarily by Thomas Jefferson, proclaimed the colonies' separation from British rule and asserted the rights of all people to life, liberty, and the pursuit of happiness. The Revolutionary War continued with battles such as the Battle of Saratoga and the Battle of Yorktown. The Patriots received crucial support from foreign allies, most notably France, which proved instrumental in their ultimate victory. In 1783, the Treaty of Paris was signed, officially recognizing the independence of the United States and establishing its borders. The American Revolution laid the foundation for the principles that would shape the new nation. It inspired the drafting of the United States Constitution and the Bill of Rights, which guaranteed individual liberties and established a system of government that balanced power among different branches. The Revolutionary War and the subsequent creation of the United States marked a significant turning point in world history. It demonstrated that a people could successfully rise against colonial rule and establish a democratic nation, inspiring future movements for independence and self-determination around the world.";
           var para=paragraph.toLowerCase();
            // document.getElementById("paragraph").innerText.toLowerCase();
            console.log(paragraph)
            console.log(keyword)
            
            
            if (para.includes(keyword)) {
                
                console.log("into the if block")
                document.getElementById("result").innerText = "The American Revolution, which took place from 1775 to 1783, was a defining moment in US history. It was a struggle for independence from British rule and ultimately led to the birth of a new nation—the United States of America.The seeds of discontent were sown in the American colonies as tensions grew between the British government and the colonists. Issues such as taxation without representation and the infringement of colonial rights sparked protests and resistance. The famous rallying cry of 'No taxation without representation' echoed throughout the colonies.In 1774, representatives from the colonies gathered in Philadelphia for the First Continental Congress to address their grievances. They called for a united response against British policies and began organizing boycotts and other acts of defiance.Tensions escalated further in 1775 when shots were fired at Lexington and Concord, marking the beginning of armed conflict between colonial militias and British troops. The colonists, known as Patriots, fought for their freedom and rallied around the cause of independence.In 1776, the Second Continental Congress convened in Philadelphia, where a group of delegates drafted and adopted the Declaration of Independence. This historic document, written primarily by Thomas Jefferson, proclaimed the colonies' separation from British rule and asserted the rights of all people to life, liberty, and the pursuit of happiness. The Revolutionary War continued with battles such as the Battle of Saratoga and the Battle of Yorktown. The Patriots received crucial support from foreign allies, most notably France, which proved instrumental in their ultimate victory. In 1783, the Treaty of Paris was signed, officially recognizing the independence of the United States and establishing its borders. The American Revolution laid the foundation for the principles that would shape the new nation. It inspired the drafting of the United States Constitution and the Bill of Rights, which guaranteed individual liberties and established a system of government that balanced power among different branches. The Revolutionary War and the subsequent creation of the United States marked a significant turning point in world history. It demonstrated that a people could successfully rise against colonial rule and establish a democratic nation, inspiring future movements for independence and self-determination around the world.";
            } else {
                console.log("into the else block")
                document.getElementById("result").innerText = "Keyword not found.";
            }
        }
    </script>
</head>

<body>
    <div class = "container">
    <input type="text" id="keyword" placeholder="Enter keyword">
    <button type="button" onclick="searchAndDisplay()">Search</button>
    <div class = "pdf">
        <label>Upload here:</label> 
    <button onclick="uploadPDF()">Upload PDF</button>
    <label>Delete here:</label> 
    <button onclick="removePDF()">Remove PDF</button>
    </div>

    <div id="pdf-container"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        let pdfDoc = null;
        const container = document.getElementById("pdf-container");
        const searchBar = document.getElementById("search-bar");
        let currentText = "";

        function uploadPDF() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'application/pdf';
            input.onchange = (event) => {
                const file = event.target.files[0];
                const fileReader = new FileReader();
                fileReader.onload = () => {
                    const typedarray = new Uint8Array(fileReader.result);
                    displayPDF(typedarray);
                };
                fileReader.readAsArrayBuffer(file);
            };
            input.click();
        }

        function removePDF() {
            pdfDoc = null;
            container.innerText = "";
        }

        function displayPDF(pdfData) {
            pdfjsLib.getDocument({ data: pdfData }).promise.then(pdf => {
                pdfDoc = pdf;
                let pagePromises = [];
                for (let i = 1; i <= pdf.numPages; i++) {
                    pagePromises.push(pdf.getPage(i));
                }

                Promise.all(pagePromises).then(pages => {
                    let textContentPromises = pages.map(page => page.getTextContent());

                    Promise.all(textContentPromises).then(textContents => {
                        let text = "";
                        textContents.forEach(content => {
                            content.items.forEach(item => {
                                text += item.str + " ";
                            });
                        });

                        currentText = text;
                        container.innerText = currentText;
                    });
                });
            });
        }

        function searchText() {
            const searchText = searchBar.value.toLowerCase();
            const textToHighlight = currentText.toLowerCase();
            const highlightedText = textToHighlight.replaceAll(searchText, `<span class="highlight">${searchText}</span>`);
            container.innerHTML = highlightedText;
        }
    </script>
    <h1> The paragraph will be shown here </h1>
    <br>
    <div id="result"></div>
    <p id="paragraph">
        <!-- The American Revolution, which took place from 1775 to 1783, was a defining moment in US history. It was a struggle for independence from British rule and ultimately led to the birth of a new nation—the United States of America.The seeds of discontent were sown in the American colonies as tensions grew between the British government and the colonists. Issues such as taxation without representation and the infringement of colonial rights sparked protests and resistance. The famous rallying cry of 'No taxation without representation' echoed throughout the colonies.In 1774, representatives from the colonies gathered in Philadelphia for the First Continental Congress to address their grievances. They called for a united response against British policies and began organizing boycotts and other acts of defiance.
        Tensions escalated further in 1775 when shots were fired at Lexington and Concord, marking the beginning of armed conflict between colonial militias and British troops. The colonists, known as Patriots, fought for their freedom and rallied around the cause of independence.In 1776, the Second Continental Congress convened in Philadelphia, where a group of delegates drafted and adopted the Declaration of Independence. This historic document, written primarily by Thomas Jefferson, proclaimed the colonies' separation from British rule and asserted the rights of all people to life, liberty, and the pursuit of happiness. The Revolutionary War continued with battles such as the Battle of Saratoga and the Battle of Yorktown. The Patriots received crucial support from foreign allies, most notably France, which proved instrumental in their ultimate victory.
        In 1783, the Treaty of Paris was signed, officially recognizing the independence of the United States and establishing its borders. The American Revolution laid the foundation for the principles that would shape the new nation. It inspired the drafting of the United States Constitution and the Bill of Rights, which guaranteed individual liberties and established a system of government that balanced power among different branches. The Revolutionary War and the subsequent creation of the United States marked a significant turning point in world history. It demonstrated that a people could successfully rise against colonial rule and establish a democratic nation, inspiring future movements for independence and self-determination around the world.
     -->
    </p>
    <br>
    
    </div>
</body>
</html>